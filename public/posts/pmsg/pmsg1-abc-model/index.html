<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>PMSG1 model in abc reference frame | QY's Notes</title><meta name=keywords content="PMSG control"><meta name=description content="Brief introduction of operation and equations in abc reference frame."><meta name=author content="QY"><link rel=canonical href=qygong17.github.io/posts/pmsg/pmsg1-abc-model/><meta name=google-site-verification content="qygong17"><meta name=yandex-verification content="qygong17"><meta name=msvalidate.01 content="qygong17"><link crossorigin=anonymous href=/qygong17.github.io/assets/css/stylesheet.ba817106d83429143a08d1f1482d38a14bdb99731b9720b4e65c946b0d654e02.css integrity="sha256-uoFxBtg0KRQ6CNHxSC04oUvbmXMblyC05lyUaw1lTgI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/qygong17.github.io/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/assets/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/assets/favicon-32x32.png><link rel=apple-touch-icon href=/assets/apple-touch-icon.png><link rel=mask-icon href=qygong17.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script type=text/javascript>MathJax={tex:{displayMath:[["$$","$$"],["\\[","\\]"]],inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js integrity=sha384-+BSz3oj3ILMYvOBr16U9i0H4RZRmGyQQ+1q9eqr8T3skmAFrJk8GmgwgqlCZdNSo crossorigin=anonymous referrerpolicy=no-referrer type=text/javascript></script><meta property="og:title" content="PMSG1 model in abc reference frame"><meta property="og:description" content="Brief introduction of operation and equations in abc reference frame."><meta property="og:type" content="article"><meta property="og:url" content="qygong17.github.io/posts/pmsg/pmsg1-abc-model/"><meta property="og:image" content="qygong17.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-15T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-15T00:00:00+00:00"><meta property="og:site_name" content="QY's Notes"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="qygong17.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="PMSG1 model in abc reference frame"><meta name=twitter:description content="Brief introduction of operation and equations in abc reference frame."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"qygong17.github.io/posts/"},{"@type":"ListItem","position":3,"name":"PMSG control","item":"qygong17.github.io/posts/pmsg/"},{"@type":"ListItem","position":4,"name":"PMSG1 model in abc reference frame","item":"qygong17.github.io/posts/pmsg/pmsg1-abc-model/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"PMSG1 model in abc reference frame","name":"PMSG1 model in abc reference frame","description":"Brief introduction of operation and equations in abc reference frame.","keywords":["PMSG control"],"articleBody":"A very brief introcuction For an ideal PMSG:\nThe magnets in the rotor generate a constant magnetic field, $\\psi_{m}$ (When the rotor is still). The three-phase AC current in the stator windings generates a rotating magnetic field (RMF), with speed of $60f$ RPM (revolutions per minute). $f$ is the frequency of the three-phase supply, and 60 is from seconds in a minute. (My rough explanation: the stator winding with 3-ph AC current is like a set of magnets revolving outside the rotor, the rotor magnets, therefore, would also revolve, with its north pole locked to the south poles of the equivalent stator magnets.) In steady state, the rotor is revolving at the synchronous speed, $\\frac{60f}{P}$ RPM, where $P$ is the number of pole pairs. About $P$ and synchrounous speed: How does the number of poles in an induction motor determine its speed and torque? - Electrical Engineering Stack Exchange\nDuring a half cycle of the supply current, the polarity of the magnetic field of the stator is reversed, so the rotor revolves from one pole to the other pole in the pair, therefore,\nmore pole pairs -\u003e smaller angle for each pole pair -\u003e less angle the rotor revolves in one cycle -\u003e lower synchrounous speed (It is really brief because I didn’t know much about motors. )\nPMSG model in abc frame The dynamics of the PMSG is usually described by a set of equations: stator voltage, stator flux, Torque, and rotor speed. (Similar to those of the DFIG.)\nIdeal model, harmonics, saturation, losses, etc., are all ignored. Stator voltage The 3-ph voltage is supplied to the stator windings. Each winding could be regarded as a resistor and a coupled inductor. From Lenz’s Law and Kirchhoff’s voltage law, for each winding, $u_{x}=R_{s}i_{x}+ \\frac{d \\psi_{x}}{dt}$. Write out the equations in matrix form: $$\\left[\\begin{matrix} u_A \\\\ u_B \\\\ u_C \\end{matrix}\\right] = \\left[\\begin{matrix} R_s \u0026 0 \u0026 0 \\\\ 0 \u0026 R_s \u0026 0 \\\\ 0 \u0026 0 \u0026 R_s \\end{matrix}\\right] \\left[\\begin{matrix} i_A \\\\ i_B \\\\ i_C \\end{matrix}\\right] + \\frac{d}{dt}\\left[\\begin{matrix} \\psi_A \\\\ \\psi_B \\\\ \\psi_C \\end{matrix}\\right]$$\nStator flux The total flux of each stator winding comes from the winding itself, other windings, and the rotor.\n$$\\begin{align*} \\left[\\begin{matrix} \\psi_{A} \\\\ \\psi_{B} \\\\ \\psi_{C} \\\\ \\end{matrix}\\right] \u0026= \\left[\\begin{matrix} \\psi_{AA}+\\psi_{AB}+\\psi_{AC}+\\psi_{Am} \\\\ \\psi_{BA}+\\psi_{BB}+\\psi_{BC}+\\psi_{Bm} \\\\ \\psi_{CA}+\\psi_{CB}+\\psi_{CC}+\\psi_{Cm} \\\\ \\end{matrix}\\right] \\\\ \u0026=\\left[\\begin{matrix} L_{AA} \u0026 L_{AB} \u0026 L_{AC} \\\\ L_{BA} \u0026 L_{BB} \u0026 L_{BC} \\\\ L_{CA} \u0026 L_{CB} \u0026 L_{CC} \\end{matrix}\\right] \\left[\\begin{matrix} i_{A}\\\\ i_{B}\\\\ i_{C} \\end{matrix}\\right]+ \\left[\\begin{matrix} cos \\theta_{r} \\\\ cos \\left(\\theta_{r}+ \\frac{2}{3}\\pi\\right) \\\\ cos \\left(\\theta_{r}- \\frac{2}{3}\\pi\\right) \\end{matrix}\\right] \\psi_{m} \\end{align*}$$\nTorque Rotor speed $$ \\frac{J}{n_p}\\frac{d\\omega_r}{dt}=T_e-T_L $$ testing a new post.\nMost of the equations still came from textbooks, as I cannot invent them. But I’ll try to use my own words for the next posts.\nInductance - Wikipedia\n[[What is flux and what is an inductor]] [[What is mutual flux and mutual inductance]] These are some questions to revise in later posts. ","wordCount":"482","inLanguage":"en","datePublished":"2023-05-15T00:00:00Z","dateModified":"2023-05-15T00:00:00Z","author":{"@type":"Person","name":"QY"},"mainEntityOfPage":{"@type":"WebPage","@id":"qygong17.github.io/posts/pmsg/pmsg1-abc-model/"},"publisher":{"@type":"Organization","name":"QY's Notes","logo":{"@type":"ImageObject","url":"/assets/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=qygong17.github.io accesskey=h title="QY's Notes (Alt + H)">QY's Notes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=qygong17.github.io/qygong17.github.io/about/ title=About><span>About</span></a></li><li><a href=qygong17.github.io/qygong17.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=qygong17.github.io/qygong17.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=qygong17.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=qygong17.github.io>Home</a>&nbsp;»&nbsp;<a href=qygong17.github.io/posts/>Posts</a>&nbsp;»&nbsp;<a href=qygong17.github.io/posts/pmsg/>PMSG control</a></div><h1 class=post-title>PMSG1 model in abc reference frame</h1><div class=post-description>Brief introduction of operation and equations in abc reference frame.</div><div class=post-meta><span title='2023-05-15 00:00:00 +0000 UTC'>May 15, 2023</span>&nbsp;·&nbsp;QY&nbsp;·&nbsp;<a href=/tags/pmsg-control> PMSG control</a>&nbsp;|&nbsp;<a href=https://github.com/qyGong17/qyGong17.github.io/tree/main/content/posts/PMSG/PMSG1%20abc%20model.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#a-very-brief-introcuction aria-label="A very brief introcuction">A very brief introcuction</a></li><li><a href=#pmsg-model-in-abc-frame aria-label="PMSG model in abc frame">PMSG model in abc frame</a><ul><li><a href=#stator-voltage aria-label="Stator voltage">Stator voltage</a></li><li><a href=#stator-flux aria-label="Stator flux">Stator flux</a></li><li><a href=#torque aria-label=Torque>Torque</a></li><li><a href=#rotor-speed aria-label="Rotor speed">Rotor speed</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=a-very-brief-introcuction>A very brief introcuction<a hidden class=anchor aria-hidden=true href=#a-very-brief-introcuction>#</a></h1><p>For an ideal PMSG:</p><ul><li>The magnets in the rotor generate a constant magnetic field, $\psi_{m}$ (When the rotor is still).</li><li>The three-phase AC current in the stator windings generates a rotating magnetic field (RMF), with speed of $60f$ RPM (revolutions per minute). $f$ is the frequency of the three-phase supply, and 60 is from seconds in a minute.</li><li>(My rough explanation: the stator winding with 3-ph AC current is like a set of magnets revolving outside the rotor, the rotor magnets, therefore, would also revolve, with its north pole locked to the south poles of the equivalent stator magnets.)</li><li>In steady state, the rotor is revolving at the <strong>synchronous speed</strong>, $\frac{60f}{P}$ RPM, where $P$ is the number of pole pairs.</li></ul><p>About $P$ and synchrounous speed: <a href=https://electronics.stackexchange.com/questions/241418/how-does-the-number-of-poles-in-an-induction-motor-determine-its-speed-and-torqu>How does the number of poles in an induction motor determine its speed and torque? - Electrical Engineering Stack Exchange</a></p><p>During a half cycle of the supply current, the polarity of the magnetic field of the stator is reversed, so the rotor revolves from one pole to the other pole in the pair, therefore,</p><ul><li>more pole pairs -> smaller angle for each pole pair -> less angle the rotor revolves in one cycle -> lower synchrounous speed</li></ul><p>(It is really brief because I didn&rsquo;t know much about motors. )</p><h1 id=pmsg-model-in-abc-frame>PMSG model in abc frame<a hidden class=anchor aria-hidden=true href=#pmsg-model-in-abc-frame>#</a></h1><p>The dynamics of the PMSG is usually described by a set of equations: stator voltage, stator flux, Torque, and rotor speed.
(Similar to those of the DFIG.)</p><ul><li>Ideal model, harmonics, saturation, losses, etc., are all ignored.</li></ul><h2 id=stator-voltage>Stator voltage<a hidden class=anchor aria-hidden=true href=#stator-voltage>#</a></h2><p>The 3-ph voltage is supplied to the stator windings. Each winding could be regarded as a resistor and a coupled inductor. From Lenz&rsquo;s Law and Kirchhoff&rsquo;s voltage law, for each winding, $u_{x}=R_{s}i_{x}+ \frac{d \psi_{x}}{dt}$.
Write out the equations in matrix form:
$$\left[\begin{matrix}
u_A \\ u_B \\ u_C
\end{matrix}\right] =
\left[\begin{matrix}
R_s & 0 & 0 \\ 0 & R_s & 0 \\ 0 & 0 & R_s
\end{matrix}\right]
\left[\begin{matrix}
i_A \\ i_B \\ i_C
\end{matrix}\right] +
\frac{d}{dt}\left[\begin{matrix}
\psi_A \\ \psi_B \\ \psi_C
\end{matrix}\right]$$</p><h2 id=stator-flux>Stator flux<a hidden class=anchor aria-hidden=true href=#stator-flux>#</a></h2><p>The total flux of each stator winding comes from the winding itself, other windings, and the rotor.</p><p>$$\begin{align*}
\left[\begin{matrix}
\psi_{A} \\ \psi_{B} \\ \psi_{C} \\
\end{matrix}\right] &=
\left[\begin{matrix}
\psi_{AA}+\psi_{AB}+\psi_{AC}+\psi_{Am} \\ \psi_{BA}+\psi_{BB}+\psi_{BC}+\psi_{Bm} \\ \psi_{CA}+\psi_{CB}+\psi_{CC}+\psi_{Cm} \\
\end{matrix}\right] \\
&=\left[\begin{matrix}
L_{AA} & L_{AB} & L_{AC} \\
L_{BA} & L_{BB} & L_{BC} \\
L_{CA} & L_{CB} & L_{CC}
\end{matrix}\right]
\left[\begin{matrix}
i_{A}\\
i_{B}\\
i_{C}
\end{matrix}\right]+
\left[\begin{matrix}
cos \theta_{r} \\
cos \left(\theta_{r}+ \frac{2}{3}\pi\right) \\
cos \left(\theta_{r}- \frac{2}{3}\pi\right)
\end{matrix}\right] \psi_{m}
\end{align*}$$</p><h2 id=torque>Torque<a hidden class=anchor aria-hidden=true href=#torque>#</a></h2><h2 id=rotor-speed>Rotor speed<a hidden class=anchor aria-hidden=true href=#rotor-speed>#</a></h2><p>$$
\frac{J}{n_p}\frac{d\omega_r}{dt}=T_e-T_L
$$
testing a new post.</p><p>Most of the equations still came from textbooks, as I cannot invent them. But I&rsquo;ll try to use my own words for the next posts.</p><p><a href=https://en.wikipedia.org/wiki/Inductance>Inductance - Wikipedia</a></p><ul><li>[[What is flux and what is an inductor]]</li><li>[[What is mutual flux and mutual inductance]]
These are some questions to revise in later posts.</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=qygong17.github.io/tags/pmsg-control/>PMSG control</a></li></ul><nav class=paginav><a class=prev href=qygong17.github.io/posts/pmsg/pmsg0-background/><span class=title>« Prev</span><br><span>PMSG0 background and learning resources</span></a>
<a class=next href=qygong17.github.io/posts/shuang-pin/><span class=title>Next »</span><br><span>双拼输入法体验记录</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=qygong17.github.io>QY's Notes</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>