<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Microblaze2 Boot from QSPI Flash (No bootloader) | QY's Notes</title><meta name=keywords content="microblaze"><meta name=description content="Flash Configuration for a MicroBlaze project running only in BRAM and without a bootloader."><meta name=author content="QY"><link rel=canonical href=qygong17.github.io/posts/microblaze2-boot-from-qspi-flash-no-bootloader/><meta name=google-site-verification content="qygong17"><meta name=yandex-verification content="qygong17"><meta name=msvalidate.01 content="qygong17"><link crossorigin=anonymous href=/qygong17.github.io/assets/css/stylesheet.6724e1566f50498fe2cb86b4a21e9c3a422ce04f72d9ff3c46cc2bdb10be5ac0.css integrity="sha256-ZyThVm9QSY/iy4a0oh6cOkIs4E9y2f88Rswr2xC+WsA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/qygong17.github.io/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=/assets/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/assets/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/assets/favicon-32x32.png><link rel=apple-touch-icon href=/assets/apple-touch-icon.png><link rel=mask-icon href=qygong17.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ crossorigin=anonymous referrerpolicy=no-referrer><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin=anonymous referrerpolicy=no-referrer type=text/javascript></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous referrerpolicy=no-referrer type=text/javascript></script>
<script type=text/javascript>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1}]})})</script><meta property="og:title" content="Microblaze2 Boot from QSPI Flash (No bootloader)"><meta property="og:description" content="Flash Configuration for a MicroBlaze project running only in BRAM and without a bootloader."><meta property="og:type" content="article"><meta property="og:url" content="qygong17.github.io/posts/microblaze2-boot-from-qspi-flash-no-bootloader/"><meta property="og:image" content="qygong17.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-21T00:00:00+00:00"><meta property="article:modified_time" content="2023-05-21T00:00:00+00:00"><meta property="og:site_name" content="QY's Notes"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="qygong17.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Microblaze2 Boot from QSPI Flash (No bootloader)"><meta name=twitter:description content="Flash Configuration for a MicroBlaze project running only in BRAM and without a bootloader."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"qygong17.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Microblaze2 Boot from QSPI Flash (No bootloader)","item":"qygong17.github.io/posts/microblaze2-boot-from-qspi-flash-no-bootloader/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Microblaze2 Boot from QSPI Flash (No bootloader)","name":"Microblaze2 Boot from QSPI Flash (No bootloader)","description":"Flash Configuration for a MicroBlaze project running only in BRAM and without a bootloader.","keywords":["microblaze"],"articleBody":"Using Vivado 2018.3 .\nIntroduction In this post, the previous blinking LED project, Microblaze1 Hello World LED, is programmed into a flash.\nWhen the code size is small enough to fit in the BRAM, then, the flash configuration is easier and requires no bootloader or external RAM. We only need to include the application program (in this case, the blinking LED program) in the microblaze bitstream and store the bitstream in the flash.\n4-wire SPI configuration Associate the .elf file in the updated bitstream Generate mcs file Program SPI Flash Boot from SPI Flash Generate bitstream 4-wire SPI constraints Add to .xdc file (Of cources, the board and flash shoud support 4-wire SPI mode, and the correct voltage level should be used.):\n#############SPI Configurate Setting###################\r#4-wire SPI\rset_property CFGBVS VCCO [current_design]\rset_property CONFIG_VOLTAGE 3.3 [current_design]\rset_property BITSTREAM.CONFIG.SPI_BUSWIDTH 4 [current_design]\rset_property CONFIG_MODE SPIx4 [current_design]\rset_property BITSTREAM.CONFIG.CONFIGRATE 50 [current_design] Associate ELF Files In Synthesis/Implementation, select: Tools-Associate ELF Files. Select the correct elf file: (The build output of our application project (led.elf),not the default mb_bootloop_le.elf) Click OK, and re-run sythesis-implementation-generate bitstream. Generate mcs File Tools-Generate Memory Configuration Files.\nSelect the corrent memory part. On my board, MT25QL128, (alias N25Q128). Enter a file name, test_led.mcs Select SPIx4 Select Write checksum and Overwrite Program QSPI Flash From the left panel, open Hardware manager, then auto-connect to the board.\nAdd Configuration Memory Device Right click the device-Add Configuration Memory Device. Again, mt25ql128, (alias N25Q128) Right click the memory device-Program-select the generated test_led.mcs. After programming Flash, select the FPGA device, right click-Boot from Configuration Memory Device, the LED should start blinking (when using 4-wire SPI, it takes less than 1 second to load the bitstream).\nIf the bitstream does not load after power-up (but loads after pressing PROGRAM_B button ), remove the JTAG cable and try again:\nArtix-7 Power-Up configuration is not done (xilinx.com) 66954 - 2016.1 and newer Vivado Hardware Manager - Intermittent configuration failures can occur when the FPGA is power cycled and the programming cable is connected. (xilinx.com) Resource No Bootloader Version Flashing a MicroBlaze Program : 5 Steps - Instructables BIN and MCS Files Still a bit confused.\nWhat is the exact image of what needs to go on the FLASH memory. (bin, bit, mcs, …. ?) (xilinx.com) MCS Vs BIN file (xilinx.com) jimbrady (Customer): The MCS file is a HEX file where two ASCII chars are used to represent each byte of data. And the binary file of course just contains just the raw byte stream, in sequence. So the MCS file seems less efficient, because it takes 2 bytes to represent 1 byte. But it has a couple of advantages (1) It has a checksum at the end of each line for integrity. (2) Each line includes the address where the line should be located in memory. So for example, if a MCS file contains a few segments located far apart in address space, it can be small while the equivalent binary file might be huge, because it would have a lot of 0x00 or 0xFFs to fill the space between segments.\nBootloader Version Adam Taylor’s MicroZed Chronicles, Part 221: How to boot a MicroBlaze soft processor from non-volatile memory (xilinx.com) ug940-vivado-tutorial-embedded-design.pdf • Viewer • AMD Adaptive Computing Documentation Portal (xilinx.com) ","wordCount":"540","inLanguage":"en","datePublished":"2023-05-21T00:00:00Z","dateModified":"2023-05-21T00:00:00Z","author":{"@type":"Person","name":"QY"},"mainEntityOfPage":{"@type":"WebPage","@id":"qygong17.github.io/posts/microblaze2-boot-from-qspi-flash-no-bootloader/"},"publisher":{"@type":"Organization","name":"QY's Notes","logo":{"@type":"ImageObject","url":"/assets/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=qygong17.github.io accesskey=h title="QY's Notes (Alt + H)">QY's Notes</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=qygong17.github.io/qygong17.github.io/about/ title=About><span>About</span></a></li><li><a href=qygong17.github.io/qygong17.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=qygong17.github.io/qygong17.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=qygong17.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=qygong17.github.io>Home</a>&nbsp;»&nbsp;<a href=qygong17.github.io/posts/>Posts</a></div><h1 class=post-title>Microblaze2 Boot from QSPI Flash (No bootloader)</h1><div class=post-meta><span title='2023-05-21 00:00:00 +0000 UTC'>May 21, 2023</span>&nbsp;·&nbsp;QY&nbsp;·&nbsp;<a href=/tags/microblaze> microblaze</a>&nbsp;|&nbsp;<a href=https://github.com/qyGong17/qyGong17.github.io/tree/main/content/posts/Microblaze2%20Boot%20from%20QSPI%20Flash%20%28No%20bootloader%29.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#generate-bitstream aria-label="Generate bitstream">Generate bitstream</a><ul><li><a href=#4-wire-spi-constraints aria-label="4-wire SPI constraints">4-wire SPI constraints</a></li><li><a href=#associate-elf-files aria-label="Associate ELF Files">Associate ELF Files</a></li></ul></li><li><a href=#generate-mcs-file aria-label="Generate mcs File">Generate mcs File</a></li><li><a href=#program-qspi-flash aria-label="Program QSPI Flash">Program QSPI Flash</a><ul><li><a href=#add-configuration-memory-device aria-label="Add Configuration Memory Device">Add Configuration Memory Device</a></li></ul></li><li><a href=#resource aria-label=Resource>Resource</a><ul><li><a href=#no-bootloader-version aria-label="No Bootloader Version">No Bootloader Version</a></li><li><a href=#bin-and-mcs-files aria-label="BIN and MCS Files">BIN and MCS Files</a></li><li><a href=#bootloader-version aria-label="Bootloader Version">Bootloader Version</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>Using <code>Vivado 2018.3</code> .</p><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><p>In this post, the previous <code>blinking LED</code> project, <a href=https://qygong17.github.io/posts/microblaze1-hello-world-led/>Microblaze1 Hello World LED</a>, is programmed into a flash.</p><p>When the code size is small enough to fit in the BRAM, then, the flash configuration is easier and requires no bootloader or external RAM. We only need to include the application program (in this case, the blinking LED program) in the microblaze bitstream and store the bitstream in the flash.</p><ol><li>4-wire SPI configuration</li><li>Associate the <code>.elf</code> file in the <code>updated</code> bitstream</li><li>Generate mcs file</li><li>Program SPI Flash</li><li>Boot from SPI Flash</li></ol><h1 id=generate-bitstream>Generate bitstream<a hidden class=anchor aria-hidden=true href=#generate-bitstream>#</a></h1><h2 id=4-wire-spi-constraints>4-wire SPI constraints<a hidden class=anchor aria-hidden=true href=#4-wire-spi-constraints>#</a></h2><p>Add to <code>.xdc</code> file (Of cources, the board and flash shoud support 4-wire SPI mode, and the correct <code>voltage level</code> should be used.):</p><pre tabindex=0><code>#############SPI Configurate Setting###################
#4-wire SPI
set_property CFGBVS VCCO [current_design]
set_property CONFIG_VOLTAGE 3.3 [current_design]
set_property BITSTREAM.CONFIG.SPI_BUSWIDTH 4 [current_design]
set_property CONFIG_MODE SPIx4 [current_design]
set_property BITSTREAM.CONFIG.CONFIGRATE 50 [current_design]
</code></pre><h2 id=associate-elf-files>Associate ELF Files<a hidden class=anchor aria-hidden=true href=#associate-elf-files>#</a></h2><p>In Synthesis/Implementation, select: Tools-Associate ELF Files.
<img loading=lazy src=/images/img_2023-05-20-30.png alt></p><p>Select the correct elf file: (The build output of our application project (<code>led.elf</code>),<code>not</code> the default mb_bootloop_le.elf)
<img loading=lazy src=/images/img_2023-05-20-32.png alt></p><p>Click <code>OK</code>, and re-run <code>sythesis-implementation-generate bitstream</code>.
<img loading=lazy src=/images/img_2023-05-20-31.png alt></p><h1 id=generate-mcs-file>Generate mcs File<a hidden class=anchor aria-hidden=true href=#generate-mcs-file>#</a></h1><p>Tools-Generate Memory Configuration Files.</p><ul><li>Select the corrent memory part. On my board, <code>MT25QL128</code>, (alias N25Q128).</li><li>Enter a file name, <code>test_led.mcs</code></li><li>Select SPIx4</li><li>Select <code>Write checksum</code> and <code>Overwrite</code>
<img loading=lazy src=/images/img_2023-05-20-26.png alt></li></ul><h1 id=program-qspi-flash>Program QSPI Flash<a hidden class=anchor aria-hidden=true href=#program-qspi-flash>#</a></h1><p>From the left panel, open <code>Hardware manager</code>, then auto-connect to the board.</p><h2 id=add-configuration-memory-device>Add Configuration Memory Device<a hidden class=anchor aria-hidden=true href=#add-configuration-memory-device>#</a></h2><p>Right click the device-Add Configuration Memory Device. Again, mt25ql128, (alias N25Q128)
<img loading=lazy src=/images/img_2023-05-20-27.png alt></p><p>Right click the memory device-Program-select the generated <code>test_led.mcs</code>.
<img loading=lazy src=/images/img_2023-05-20-29.png alt></p><p>After programming Flash, select the FPGA device, right click-Boot from Configuration Memory Device, the LED should start blinking (when using 4-wire SPI, it takes less than 1 second to load the bitstream).</p><p>If the bitstream does not load after power-up (but loads after pressing PROGRAM_B button ), <code>remove the JTAG cable</code> and try again:</p><ul><li><a href="https://support.xilinx.com/s/question/0D52E00006hpKu2SAE/artix7-powerup-configuration-is-not-done?language=en_US">Artix-7 Power-Up configuration is not done (xilinx.com)</a></li><li><a href="https://support.xilinx.com/s/article/66954?language=en_US">66954 - 2016.1 and newer Vivado Hardware Manager - Intermittent configuration failures can occur when the FPGA is power cycled and the programming cable is connected. (xilinx.com)</a></li></ul><h1 id=resource>Resource<a hidden class=anchor aria-hidden=true href=#resource>#</a></h1><h2 id=no-bootloader-version>No Bootloader Version<a hidden class=anchor aria-hidden=true href=#no-bootloader-version>#</a></h2><ul><li><a href=https://www.instructables.com/Flashing-a-MicroBlaze-Program/>Flashing a MicroBlaze Program : 5 Steps - Instructables</a></li></ul><h2 id=bin-and-mcs-files>BIN and MCS Files<a hidden class=anchor aria-hidden=true href=#bin-and-mcs-files>#</a></h2><p>Still a bit confused.</p><ul><li><a href="https://support.xilinx.com/s/question/0D52E00006hpXM5SAM/what-is-the-exact-image-of-what-needs-to-go-on-the-flash-memory-bin-bit-mcs-?language=en_US">What is the exact image of what needs to go on the FLASH memory. (bin, bit, mcs, &mldr;. ?) (xilinx.com)</a></li><li><a href="https://support.xilinx.com/s/question/0D52E00006iHt1tSAC/mcs-vs-bin-file?language=en_US">MCS Vs BIN file (xilinx.com)</a></li></ul><blockquote><p><a href=https://support.xilinx.com/s/profile/0052E00000N3A4tQAF>jimbrady</a> (Customer):
The MCS file is a HEX file where two ASCII chars are used to represent each byte of data.  And the binary file of course just contains just the raw byte stream, in sequence.
So the MCS file seems less efficient, because it takes 2 bytes to represent 1 byte.  But it has a couple of advantages (1) It has a checksum at the end of each line for integrity.  (2)  Each line includes the address where the line should be located in memory.
So for example, if a MCS file contains a few segments located far apart in address space, it can be small while the equivalent binary file might be huge, because it would have a lot of 0x00 or 0xFFs to fill the space between segments.</p></blockquote><h2 id=bootloader-version>Bootloader Version<a hidden class=anchor aria-hidden=true href=#bootloader-version>#</a></h2><ul><li><a href="https://support.xilinx.com/s/article/802317?language=en_US">Adam Taylor’s MicroZed Chronicles, Part 221: How to boot a MicroBlaze soft processor from non-volatile memory (xilinx.com)</a></li><li><a href=https://docs.xilinx.com/v/u/2019.1-English/ug940-vivado-tutorial-embedded-design>ug940-vivado-tutorial-embedded-design.pdf • Viewer • AMD Adaptive Computing Documentation Portal (xilinx.com)</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=qygong17.github.io/tags/microblaze/>microblaze</a></li></ul><nav class=paginav><a class=prev href=qygong17.github.io/posts/obsidian-plugin-local-images-plus/><span class=title>« Prev</span><br><span>Obsidian Plugin-local images plus</span></a>
<a class=next href=qygong17.github.io/posts/microblaze1-hello-world-led/><span class=title>Next »</span><br><span>Microblaze1 Hello World LED</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=qygong17.github.io>QY's Notes</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>